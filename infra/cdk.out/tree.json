{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.213.0"},"children":{"InfrastructureStack":{"id":"InfrastructureStack","path":"InfrastructureStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.213.0"},"children":{"WeeklyStandings":{"id":"WeeklyStandings","path":"InfrastructureStack/WeeklyStandings","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.213.0","metadata":[{"tableName":"*","partitionKey":{"name":"*","type":"S"},"sortKey":{"name":"*","type":"S"},"billingMode":"PAY_PER_REQUEST","removalPolicy":"retain"}]},"children":{"Resource":{"id":"Resource","path":"InfrastructureStack/WeeklyStandings/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"season_week","attributeType":"S"},{"attributeName":"team_id","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"season_week","keyType":"HASH"},{"attributeName":"team_id","keyType":"RANGE"}],"tableName":"ff-weekly-standings"}}},"ScalingRole":{"id":"ScalingRole","path":"InfrastructureStack/WeeklyStandings/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.213.0","metadata":["*"]}}}},"OverallStandings":{"id":"OverallStandings","path":"InfrastructureStack/OverallStandings","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.213.0","metadata":[{"tableName":"*","partitionKey":{"name":"*","type":"S"},"sortKey":{"name":"*","type":"S"},"billingMode":"PAY_PER_REQUEST","removalPolicy":"retain"}]},"children":{"Resource":{"id":"Resource","path":"InfrastructureStack/OverallStandings/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"season","attributeType":"S"},{"attributeName":"team_id","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"season","keyType":"HASH"},{"attributeName":"team_id","keyType":"RANGE"}],"tableName":"ff-overall-standings"}}},"ScalingRole":{"id":"ScalingRole","path":"InfrastructureStack/OverallStandings/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.213.0","metadata":["*"]}}}},"LeagueData":{"id":"LeagueData","path":"InfrastructureStack/LeagueData","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.213.0","metadata":[{"tableName":"*","partitionKey":{"name":"*","type":"S"},"sortKey":{"name":"*","type":"S"},"billingMode":"PAY_PER_REQUEST","removalPolicy":"retain"}]},"children":{"Resource":{"id":"Resource","path":"InfrastructureStack/LeagueData/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"data_type","attributeType":"S"},{"attributeName":"id","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"data_type","keyType":"HASH"},{"attributeName":"id","keyType":"RANGE"}],"tableName":"ff-league-data"}}},"ScalingRole":{"id":"ScalingRole","path":"InfrastructureStack/LeagueData/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.213.0","metadata":["*"]}}}},"PollingState":{"id":"PollingState","path":"InfrastructureStack/PollingState","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.213.0","metadata":[{"tableName":"*","partitionKey":{"name":"*","type":"S"},"billingMode":"PAY_PER_REQUEST","removalPolicy":"retain"}]},"children":{"Resource":{"id":"Resource","path":"InfrastructureStack/PollingState/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"id","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"id","keyType":"HASH"}],"tableName":"ff-polling-state"}}},"ScalingRole":{"id":"ScalingRole","path":"InfrastructureStack/PollingState/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.213.0","metadata":["*"]}}}},"FFVpc":{"id":"FFVpc","path":"InfrastructureStack/FFVpc","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.Vpc","version":"2.213.0","metadata":[{"maxAzs":"*","natGateways":"*","subnetConfiguration":[{"cidrMask":"*","name":"*","subnetType":"Public"}]}]},"children":{"Resource":{"id":"Resource","path":"InfrastructureStack/FFVpc/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPC","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPC","aws:cdk:cloudformation:props":{"cidrBlock":"10.0.0.0/16","enableDnsHostnames":true,"enableDnsSupport":true,"instanceTenancy":"default","tags":[{"key":"Name","value":"InfrastructureStack/FFVpc"}]}}},"publicSubnet1":{"id":"publicSubnet1","path":"InfrastructureStack/FFVpc/publicSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.213.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{}]},"children":{"Subnet":{"id":"Subnet","path":"InfrastructureStack/FFVpc/publicSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":{"Fn::Select":[0,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.0.0/24","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"InfrastructureStack/FFVpc/publicSubnet1"}],"vpcId":{"Ref":"FFVpcC9394CEB"}}}},"Acl":{"id":"Acl","path":"InfrastructureStack/FFVpc/publicSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.213.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"InfrastructureStack/FFVpc/publicSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"InfrastructureStack/FFVpc/publicSubnet1"}],"vpcId":{"Ref":"FFVpcC9394CEB"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"InfrastructureStack/FFVpc/publicSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"FFVpcpublicSubnet1RouteTable03481BA5"},"subnetId":{"Ref":"FFVpcpublicSubnet1SubnetE71D7ADA"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"InfrastructureStack/FFVpc/publicSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"FFVpcIGW481ED6C0"},"routeTableId":{"Ref":"FFVpcpublicSubnet1RouteTable03481BA5"}}}}}},"publicSubnet2":{"id":"publicSubnet2","path":"InfrastructureStack/FFVpc/publicSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.213.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{}]},"children":{"Subnet":{"id":"Subnet","path":"InfrastructureStack/FFVpc/publicSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":{"Fn::Select":[1,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.1.0/24","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"InfrastructureStack/FFVpc/publicSubnet2"}],"vpcId":{"Ref":"FFVpcC9394CEB"}}}},"Acl":{"id":"Acl","path":"InfrastructureStack/FFVpc/publicSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.213.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"InfrastructureStack/FFVpc/publicSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"InfrastructureStack/FFVpc/publicSubnet2"}],"vpcId":{"Ref":"FFVpcC9394CEB"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"InfrastructureStack/FFVpc/publicSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"FFVpcpublicSubnet2RouteTableDCE5CE38"},"subnetId":{"Ref":"FFVpcpublicSubnet2Subnet8F28BE39"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"InfrastructureStack/FFVpc/publicSubnet2/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"FFVpcIGW481ED6C0"},"routeTableId":{"Ref":"FFVpcpublicSubnet2RouteTableDCE5CE38"}}}}}},"IGW":{"id":"IGW","path":"InfrastructureStack/FFVpc/IGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnInternetGateway","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::InternetGateway","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"InfrastructureStack/FFVpc"}]}}},"VPCGW":{"id":"VPCGW","path":"InfrastructureStack/FFVpc/VPCGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCGatewayAttachment","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCGatewayAttachment","aws:cdk:cloudformation:props":{"internetGatewayId":{"Ref":"FFVpcIGW481ED6C0"},"vpcId":{"Ref":"FFVpcC9394CEB"}}}},"RestrictDefaultSecurityGroupCustomResource":{"id":"RestrictDefaultSecurityGroupCustomResource","path":"InfrastructureStack/FFVpc/RestrictDefaultSecurityGroupCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.213.0","metadata":["*"]},"children":{"Default":{"id":"Default","path":"InfrastructureStack/FFVpc/RestrictDefaultSecurityGroupCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.213.0"}}}}}},"Custom::VpcRestrictDefaultSGCustomResourceProvider":{"id":"Custom::VpcRestrictDefaultSGCustomResourceProvider","path":"InfrastructureStack/Custom::VpcRestrictDefaultSGCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.213.0"},"children":{"Staging":{"id":"Staging","path":"InfrastructureStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.213.0"}},"Role":{"id":"Role","path":"InfrastructureStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.213.0"}},"Handler":{"id":"Handler","path":"InfrastructureStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.213.0"}}}},"FFCluster":{"id":"FFCluster","path":"InfrastructureStack/FFCluster","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.Cluster","version":"2.213.0","metadata":[{"clusterName":"*","vpc":"*","containerInsights":true}]},"children":{"Resource":{"id":"Resource","path":"InfrastructureStack/FFCluster/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnCluster","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::Cluster","aws:cdk:cloudformation:props":{"clusterName":"ff-cluster","clusterSettings":[{"name":"containerInsights","value":"enabled"}]}}}}},"EcsTaskSecurityGroup":{"id":"EcsTaskSecurityGroup","path":"InfrastructureStack/EcsTaskSecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.213.0","metadata":[{"vpc":"*","description":"*","allowAllOutbound":true}]},"children":{"Resource":{"id":"Resource","path":"InfrastructureStack/EcsTaskSecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Security group for FF ECS tasks","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"vpcId":{"Ref":"FFVpcC9394CEB"}}}}}},"PollingRepo":{"id":"PollingRepo","path":"InfrastructureStack/PollingRepo","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr.Repository","version":"2.213.0","metadata":[{"repositoryName":"*","removalPolicy":"retain"}]},"children":{"Resource":{"id":"Resource","path":"InfrastructureStack/PollingRepo/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr.CfnRepository","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECR::Repository","aws:cdk:cloudformation:props":{"repositoryName":"ff-polling-service"}}}}},"PollingLogGroup":{"id":"PollingLogGroup","path":"InfrastructureStack/PollingLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.213.0","metadata":[{"logGroupName":"*","retention":7,"removalPolicy":"destroy"}]},"children":{"Resource":{"id":"Resource","path":"InfrastructureStack/PollingLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/ff/polling-service","retentionInDays":7}}}}},"FargateTaskRole":{"id":"FargateTaskRole","path":"InfrastructureStack/FargateTaskRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.213.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"inlinePolicies":"*"}]},"children":{"ImportFargateTaskRole":{"id":"ImportFargateTaskRole","path":"InfrastructureStack/FargateTaskRole/ImportFargateTaskRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.213.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"InfrastructureStack/FargateTaskRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"},"policies":[{"policyName":"DynamoDBAccess","policyDocument":{"Statement":[{"Action":["dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["LeagueData5AD56B05","Arn"]},{"Fn::GetAtt":["OverallStandings1E46E833","Arn"]},{"Fn::GetAtt":["PollingStateACE4F90D","Arn"]},{"Fn::GetAtt":["WeeklyStandings1E5A4E88","Arn"]}]}],"Version":"2012-10-17"}},{"policyName":"LambdaInvoke","policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":"arn:aws:lambda:*:*:function:ff-calculate-standings"}],"Version":"2012-10-17"}}]}}}}},"FargateExecutionRole":{"id":"FargateExecutionRole","path":"InfrastructureStack/FargateExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.213.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportFargateExecutionRole":{"id":"ImportFargateExecutionRole","path":"InfrastructureStack/FargateExecutionRole/ImportFargateExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.213.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"InfrastructureStack/FargateExecutionRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AmazonECSTaskExecutionRolePolicy"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"InfrastructureStack/FargateExecutionRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.213.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"InfrastructureStack/FargateExecutionRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["ecr:BatchCheckLayerAvailability","ecr:BatchGetImage","ecr:GetDownloadUrlForLayer"],"Effect":"Allow","Resource":{"Fn::GetAtt":["PollingRepoD149F254","Arn"]}},{"Action":"ecr:GetAuthorizationToken","Effect":"Allow","Resource":"*"},{"Action":["logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::GetAtt":["PollingLogGroup992FF0BE","Arn"]}}],"Version":"2012-10-17"},"policyName":"FargateExecutionRoleDefaultPolicyA61F6B20","roles":[{"Ref":"FargateExecutionRoleBBC9FE9E"}]}}}}}}},"PollingTaskDefinition":{"id":"PollingTaskDefinition","path":"InfrastructureStack/PollingTaskDefinition","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateTaskDefinition","version":"2.213.0","metadata":["*","*","*","*","*"]},"children":{"Resource":{"id":"Resource","path":"InfrastructureStack/PollingTaskDefinition/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnTaskDefinition","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::TaskDefinition","aws:cdk:cloudformation:props":{"containerDefinitions":[{"essential":true,"image":{"Fn::Join":["",[{"Fn::Select":[4,{"Fn::Split":[":",{"Fn::GetAtt":["PollingRepoD149F254","Arn"]}]}]},".dkr.ecr.",{"Fn::Select":[3,{"Fn::Split":[":",{"Fn::GetAtt":["PollingRepoD149F254","Arn"]}]}]},".",{"Ref":"AWS::URLSuffix"},"/",{"Ref":"PollingRepoD149F254"},":latest"]]},"name":"polling-service","logConfiguration":{"logDriver":"awslogs","options":{"awslogs-group":{"Ref":"PollingLogGroup992FF0BE"},"awslogs-stream-prefix":"polling","awslogs-region":{"Ref":"AWS::Region"}}},"environment":[{"name":"SLEEPER_LEAGUE_ID","value":"1251986365806034944"},{"name":"WEEKLY_STANDINGS_TABLE","value":{"Ref":"WeeklyStandings1E5A4E88"}},{"name":"OVERALL_STANDINGS_TABLE","value":{"Ref":"OverallStandings1E46E833"}},{"name":"LEAGUE_DATA_TABLE","value":{"Ref":"LeagueData5AD56B05"}},{"name":"POLLING_STATE_TABLE","value":{"Ref":"PollingStateACE4F90D"}}]}],"cpu":"256","executionRoleArn":{"Fn::GetAtt":["FargateExecutionRoleBBC9FE9E","Arn"]},"family":"ff-polling-service","memory":"512","networkMode":"awsvpc","requiresCompatibilities":["FARGATE"],"taskRoleArn":{"Fn::GetAtt":["FargateTaskRole44F4EBFF","Arn"]}}}},"polling-container":{"id":"polling-container","path":"InfrastructureStack/PollingTaskDefinition/polling-container","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.ContainerDefinition","version":"2.213.0"}}}},"RequestsLayer":{"id":"RequestsLayer","path":"InfrastructureStack/RequestsLayer","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.LayerVersion","version":"2.213.0","metadata":[{"layerVersionName":"*","code":"*","compatibleRuntimes":"*","description":"*"}]},"children":{"Code":{"id":"Code","path":"InfrastructureStack/RequestsLayer/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.213.0"},"children":{"Stage":{"id":"Stage","path":"InfrastructureStack/RequestsLayer/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.213.0"}},"AssetBucket":{"id":"AssetBucket","path":"InfrastructureStack/RequestsLayer/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.213.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"InfrastructureStack/RequestsLayer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnLayerVersion","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::LayerVersion","aws:cdk:cloudformation:props":{"compatibleRuntimes":["python3.11"],"content":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"a8966fa2606734d1f591684bf8049cc45781347e0e453cc8bc159a8f3ba5e06f.zip"},"description":"Requests library for all Lambda functions","layerName":"ff-requests-layer"}}}}},"CommonUtilsLayer":{"id":"CommonUtilsLayer","path":"InfrastructureStack/CommonUtilsLayer","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.LayerVersion","version":"2.213.0","metadata":[{"layerVersionName":"*","code":"*","compatibleRuntimes":"*","description":"*"}]},"children":{"Code":{"id":"Code","path":"InfrastructureStack/CommonUtilsLayer/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.213.0"},"children":{"Stage":{"id":"Stage","path":"InfrastructureStack/CommonUtilsLayer/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.213.0"}},"AssetBucket":{"id":"AssetBucket","path":"InfrastructureStack/CommonUtilsLayer/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.213.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"InfrastructureStack/CommonUtilsLayer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnLayerVersion","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::LayerVersion","aws:cdk:cloudformation:props":{"compatibleRuntimes":["python3.11"],"content":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"94289ee75ca53a58dc5396dbe6ed1d59704b2e12f3b56edce38da4c1e8c0acf3.zip"},"description":"Common utilities (DynamoDB, auth) for all Lambda functions","layerName":"ff-common-utils-layer"}}}}},"StandingsCalculationLayer":{"id":"StandingsCalculationLayer","path":"InfrastructureStack/StandingsCalculationLayer","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.LayerVersion","version":"2.213.0","metadata":[{"layerVersionName":"*","code":"*","compatibleRuntimes":"*","description":"*"}]},"children":{"Code":{"id":"Code","path":"InfrastructureStack/StandingsCalculationLayer/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.213.0"},"children":{"Stage":{"id":"Stage","path":"InfrastructureStack/StandingsCalculationLayer/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.213.0"}},"AssetBucket":{"id":"AssetBucket","path":"InfrastructureStack/StandingsCalculationLayer/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.213.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"InfrastructureStack/StandingsCalculationLayer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnLayerVersion","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::LayerVersion","aws:cdk:cloudformation:props":{"compatibleRuntimes":["python3.11"],"content":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"fbfe2309bb3bca53a4b66a9c51112c0eeb3349d93fd12b902181f2c17ec982a4.zip"},"description":"Standings calculation library (ff_standings) shared across Lambdas","layerName":"ff-standings-calculation-layer"}}}}},"HistoricalBackfill":{"id":"HistoricalBackfill","path":"InfrastructureStack/HistoricalBackfill","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.213.0","metadata":[{"functionName":"*","runtime":"*","handler":"*","code":"*","environment":"*","timeout":"*","layers":["*","*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addLayers":["*","*","*"]}]},"children":{"ServiceRole":{"id":"ServiceRole","path":"InfrastructureStack/HistoricalBackfill/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.213.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"InfrastructureStack/HistoricalBackfill/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.213.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"InfrastructureStack/HistoricalBackfill/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"InfrastructureStack/HistoricalBackfill/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.213.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"InfrastructureStack/HistoricalBackfill/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["LeagueData5AD56B05","Arn"]},{"Fn::GetAtt":["OverallStandings1E46E833","Arn"]},{"Fn::GetAtt":["WeeklyStandings1E5A4E88","Arn"]},{"Ref":"AWS::NoValue"}]}],"Version":"2012-10-17"},"policyName":"HistoricalBackfillServiceRoleDefaultPolicy831DEDD0","roles":[{"Ref":"HistoricalBackfillServiceRole3BE0CB4A"}]}}}}}}},"Code":{"id":"Code","path":"InfrastructureStack/HistoricalBackfill/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.213.0"},"children":{"Stage":{"id":"Stage","path":"InfrastructureStack/HistoricalBackfill/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.213.0"}},"AssetBucket":{"id":"AssetBucket","path":"InfrastructureStack/HistoricalBackfill/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.213.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"InfrastructureStack/HistoricalBackfill/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"cf7c3f884144781bb068daa452d3e4c7a317d3b3926b11ddeab64972017a2771.zip"},"environment":{"variables":{"SLEEPER_LEAGUE_ID":"1251986365806034944","WEEKLY_STANDINGS_TABLE":{"Ref":"WeeklyStandings1E5A4E88"},"OVERALL_STANDINGS_TABLE":{"Ref":"OverallStandings1E46E833"},"LEAGUE_DATA_TABLE":{"Ref":"LeagueData5AD56B05"}}},"functionName":"ff-historical-backfill","handler":"lambda_function.lambda_handler","layers":[{"Ref":"CommonUtilsLayer7CA3713F"},{"Ref":"RequestsLayer58858B55"},{"Ref":"StandingsCalculationLayerD94E444F"}],"role":{"Fn::GetAtt":["HistoricalBackfillServiceRole3BE0CB4A","Arn"]},"runtime":"python3.11","timeout":300}}},"LogGroup":{"id":"LogGroup","path":"InfrastructureStack/HistoricalBackfill/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.213.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"InfrastructureStack/HistoricalBackfill/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"HistoricalBackfillCBC85CE7"}]]},"retentionInDays":731}}}}}}},"NumpyLayer":{"id":"NumpyLayer","path":"InfrastructureStack/NumpyLayer","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.213.0","metadata":[]}},"MonteCarloFunction":{"id":"MonteCarloFunction","path":"InfrastructureStack/MonteCarloFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.213.0","metadata":[{"functionName":"*","runtime":"*","handler":"*","code":"*","environment":"*","timeout":"*","memorySize":"*","layers":["*","*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addLayers":["*","*","*"]}]},"children":{"ServiceRole":{"id":"ServiceRole","path":"InfrastructureStack/MonteCarloFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.213.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"InfrastructureStack/MonteCarloFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.213.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"InfrastructureStack/MonteCarloFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"InfrastructureStack/MonteCarloFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.213.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"InfrastructureStack/MonteCarloFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:ConditionCheckItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:Scan"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["LeagueData5AD56B05","Arn"]},{"Fn::GetAtt":["WeeklyStandings1E5A4E88","Arn"]},{"Ref":"AWS::NoValue"}]},{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["OverallStandings1E46E833","Arn"]},{"Ref":"AWS::NoValue"}]}],"Version":"2012-10-17"},"policyName":"MonteCarloFunctionServiceRoleDefaultPolicy2CAF3BD2","roles":[{"Ref":"MonteCarloFunctionServiceRole2163919E"}]}}}}}}},"Code":{"id":"Code","path":"InfrastructureStack/MonteCarloFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.213.0"},"children":{"Stage":{"id":"Stage","path":"InfrastructureStack/MonteCarloFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.213.0"}},"AssetBucket":{"id":"AssetBucket","path":"InfrastructureStack/MonteCarloFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.213.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"InfrastructureStack/MonteCarloFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"011b23cdba4b86140efe42636f23e99d14b4db3520a391d6a8d9ea6d8be6c38a.zip"},"environment":{"variables":{"SLEEPER_LEAGUE_ID":"1251986365806034944","WEEKLY_STANDINGS_TABLE":{"Ref":"WeeklyStandings1E5A4E88"},"OVERALL_STANDINGS_TABLE":{"Ref":"OverallStandings1E46E833"},"LEAGUE_DATA_TABLE":{"Ref":"LeagueData5AD56B05"}}},"functionName":"ff-monte-carlo","handler":"lambda_function.lambda_handler","layers":[{"Ref":"CommonUtilsLayer7CA3713F"},"arn:aws:lambda:us-west-2:336392948345:layer:AWSSDKPandas-Python311:22",{"Ref":"RequestsLayer58858B55"}],"memorySize":3008,"role":{"Fn::GetAtt":["MonteCarloFunctionServiceRole2163919E","Arn"]},"runtime":"python3.11","timeout":900}}},"LogGroup":{"id":"LogGroup","path":"InfrastructureStack/MonteCarloFunction/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.213.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"InfrastructureStack/MonteCarloFunction/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"MonteCarloFunctionAB6A6D26"}]]},"retentionInDays":731}}}}}}},"ApiFunction":{"id":"ApiFunction","path":"InfrastructureStack/ApiFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.213.0","metadata":[{"functionName":"*","runtime":"*","handler":"*","code":"*","environment":"*","timeout":"*","memorySize":"*","layers":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addLayers":["*","*"]}]},"children":{"ServiceRole":{"id":"ServiceRole","path":"InfrastructureStack/ApiFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.213.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addManagedPolicy":[{"managedPolicyArn":"*"}]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"InfrastructureStack/ApiFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.213.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"InfrastructureStack/ApiFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/AmazonDynamoDBFullAccess"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"InfrastructureStack/ApiFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.213.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"InfrastructureStack/ApiFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:ConditionCheckItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:Scan"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["LeagueData5AD56B05","Arn"]},{"Fn::GetAtt":["OverallStandings1E46E833","Arn"]},{"Fn::GetAtt":["WeeklyStandings1E5A4E88","Arn"]},{"Ref":"AWS::NoValue"}]},{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["PollingStateACE4F90D","Arn"]},{"Ref":"AWS::NoValue"}]},{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["HistoricalBackfillCBC85CE7","Arn"]},{"Fn::GetAtt":["MonteCarloFunctionAB6A6D26","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["HistoricalBackfillCBC85CE7","Arn"]},":*"]]},{"Fn::Join":["",[{"Fn::GetAtt":["MonteCarloFunctionAB6A6D26","Arn"]},":*"]]}]},{"Action":["ecs:DescribeTasks","ecs:ListTasks","ecs:RunTask","ecs:StopTask","ecs:TagResource"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:aws:ecs:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":task/",{"Ref":"FFCluster34AF542E"},"/*"]]},{"Fn::Join":["",[{"Fn::GetAtt":["FFCluster34AF542E","Arn"]},"/*"]]},{"Ref":"PollingTaskDefinition73C43DDF"}]},{"Action":"iam:PassRole","Effect":"Allow","Resource":[{"Fn::GetAtt":["FargateExecutionRoleBBC9FE9E","Arn"]},{"Fn::GetAtt":["FargateTaskRole44F4EBFF","Arn"]}]}],"Version":"2012-10-17"},"policyName":"ApiFunctionServiceRoleDefaultPolicy20A32B8D","roles":[{"Ref":"ApiFunctionServiceRole52B9747B"}]}}}}}}},"Code":{"id":"Code","path":"InfrastructureStack/ApiFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.213.0"},"children":{"Stage":{"id":"Stage","path":"InfrastructureStack/ApiFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.213.0"}},"AssetBucket":{"id":"AssetBucket","path":"InfrastructureStack/ApiFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.213.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"InfrastructureStack/ApiFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"c32d85bb64841cbaeb1fd16aa1bf506fdfd4edaa8a87dafb685b61e8b34cb2c7.zip"},"environment":{"variables":{"WEEKLY_STANDINGS_TABLE":{"Ref":"WeeklyStandings1E5A4E88"},"OVERALL_STANDINGS_TABLE":{"Ref":"OverallStandings1E46E833"},"LEAGUE_DATA_TABLE":{"Ref":"LeagueData5AD56B05"},"POLLING_STATE_TABLE":{"Ref":"PollingStateACE4F90D"},"ECS_CLUSTER_ARN":{"Fn::GetAtt":["FFCluster34AF542E","Arn"]},"POLLING_TASK_DEFINITION_ARN":{"Ref":"PollingTaskDefinition73C43DDF"},"SUBNET_IDS":{"Fn::Join":["",[{"Ref":"FFVpcpublicSubnet1SubnetE71D7ADA"},",",{"Ref":"FFVpcpublicSubnet2Subnet8F28BE39"}]]},"SECURITY_GROUP_ID":{"Fn::GetAtt":["EcsTaskSecurityGroup03593AEC","GroupId"]},"HISTORICAL_BACKFILL_FUNCTION":"ff-historical-backfill","MONTE_CARLO_FUNCTION":"ff-monte-carlo","ADMIN_API_KEY":"madtown-admin-pw"}},"functionName":"ff-api-handler","handler":"lambda_function.lambda_handler","layers":[{"Ref":"CommonUtilsLayer7CA3713F"},{"Ref":"RequestsLayer58858B55"}],"memorySize":512,"role":{"Fn::GetAtt":["ApiFunctionServiceRole52B9747B","Arn"]},"runtime":"python3.11","timeout":180}}},"LogGroup":{"id":"LogGroup","path":"InfrastructureStack/ApiFunction/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.213.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"InfrastructureStack/ApiFunction/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"ApiFunctionCE271BD4"}]]},"retentionInDays":731}}}}}}},"FantasyFootballApi":{"id":"FantasyFootballApi","path":"InfrastructureStack/FantasyFootballApi","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RestApi","version":"2.213.0","metadata":[{"restApiName":"*","description":"*","defaultCorsPreflightOptions":{"allowOrigins":"*","allowMethods":"*","allowHeaders":"*"}}]},"children":{"Resource":{"id":"Resource","path":"InfrastructureStack/FantasyFootballApi/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRestApi","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RestApi","aws:cdk:cloudformation:props":{"description":"API for Fantasy Football vs Everyone app","name":"fantasy-football-vs-everyone"}}},"Deployment":{"id":"Deployment","path":"InfrastructureStack/FantasyFootballApi/Deployment","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Deployment","version":"2.213.0","metadata":[{"description":"*","api":"*","retainDeployments":"*"},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]}]},"children":{"Resource":{"id":"Resource","path":"InfrastructureStack/FantasyFootballApi/Deployment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDeployment","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Deployment","aws:cdk:cloudformation:props":{"description":"API for Fantasy Football vs Everyone app","restApiId":{"Ref":"FantasyFootballApiEE0842B8"}}}}}},"DeploymentStage.prod":{"id":"DeploymentStage.prod","path":"InfrastructureStack/FantasyFootballApi/DeploymentStage.prod","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Stage","version":"2.213.0","metadata":[{"deployment":"*"}]},"children":{"Resource":{"id":"Resource","path":"InfrastructureStack/FantasyFootballApi/DeploymentStage.prod/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnStage","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Stage","aws:cdk:cloudformation:props":{"deploymentId":{"Ref":"FantasyFootballApiDeployment64C95415a391d8078075fe51ce7038a06eb94df3"},"restApiId":{"Ref":"FantasyFootballApiEE0842B8"},"stageName":"prod"}}}}},"Endpoint":{"id":"Endpoint","path":"InfrastructureStack/FantasyFootballApi/Endpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.213.0"}},"Default":{"id":"Default","path":"InfrastructureStack/FantasyFootballApi/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ResourceBase","version":"2.213.0","metadata":["*"]},"children":{"OPTIONS":{"id":"OPTIONS","path":"InfrastructureStack/FantasyFootballApi/Default/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.213.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizer":{"authorizerId":"*","authorizationType":"*"},"apiKeyRequired":false,"authorizationType":"*","methodResponses":[{"statusCode":"*","responseParameters":"*"}]}},{"addMethodResponse":[{"statusCode":"*","responseParameters":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"InfrastructureStack/FantasyFootballApi/Default/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Admin-Key'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Fn::GetAtt":["FantasyFootballApiEE0842B8","RootResourceId"]},"restApiId":{"Ref":"FantasyFootballApiEE0842B8"}}}}}},"weekly":{"id":"weekly","path":"InfrastructureStack/FantasyFootballApi/Default/weekly","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.213.0","metadata":[{"parent":"*","pathPart":"*"}]},"children":{"Resource":{"id":"Resource","path":"InfrastructureStack/FantasyFootballApi/Default/weekly/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["FantasyFootballApiEE0842B8","RootResourceId"]},"pathPart":"weekly","restApiId":{"Ref":"FantasyFootballApiEE0842B8"}}}},"OPTIONS":{"id":"OPTIONS","path":"InfrastructureStack/FantasyFootballApi/Default/weekly/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.213.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizer":{"authorizerId":"*","authorizationType":"*"},"apiKeyRequired":false,"authorizationType":"*","methodResponses":[{"statusCode":"*","responseParameters":"*"}]}},{"addMethodResponse":[{"statusCode":"*","responseParameters":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"InfrastructureStack/FantasyFootballApi/Default/weekly/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Admin-Key'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"FantasyFootballApiweeklyBCF58A55"},"restApiId":{"Ref":"FantasyFootballApiEE0842B8"}}}}}},"GET":{"id":"GET","path":"InfrastructureStack/FantasyFootballApi/Default/weekly/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.213.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":"*"}]},"children":{"ApiPermission.InfrastructureStackFantasyFootballApi194B198F.GET..weekly":{"id":"ApiPermission.InfrastructureStackFantasyFootballApi194B198F.GET..weekly","path":"InfrastructureStack/FantasyFootballApi/Default/weekly/GET/ApiPermission.InfrastructureStackFantasyFootballApi194B198F.GET..weekly","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiFunctionCE271BD4","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"FantasyFootballApiEE0842B8"},"/",{"Ref":"FantasyFootballApiDeploymentStageprod3EC6B14D"},"/GET/weekly"]]}}}},"ApiPermission.Test.InfrastructureStackFantasyFootballApi194B198F.GET..weekly":{"id":"ApiPermission.Test.InfrastructureStackFantasyFootballApi194B198F.GET..weekly","path":"InfrastructureStack/FantasyFootballApi/Default/weekly/GET/ApiPermission.Test.InfrastructureStackFantasyFootballApi194B198F.GET..weekly","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiFunctionCE271BD4","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"FantasyFootballApiEE0842B8"},"/test-invoke-stage/GET/weekly"]]}}}},"Resource":{"id":"Resource","path":"InfrastructureStack/FantasyFootballApi/Default/weekly/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:",{"Ref":"AWS::Region"},":lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ApiFunctionCE271BD4","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"FantasyFootballApiweeklyBCF58A55"},"restApiId":{"Ref":"FantasyFootballApiEE0842B8"}}}}}}}},"overall":{"id":"overall","path":"InfrastructureStack/FantasyFootballApi/Default/overall","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.213.0","metadata":[{"parent":"*","pathPart":"*"}]},"children":{"Resource":{"id":"Resource","path":"InfrastructureStack/FantasyFootballApi/Default/overall/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["FantasyFootballApiEE0842B8","RootResourceId"]},"pathPart":"overall","restApiId":{"Ref":"FantasyFootballApiEE0842B8"}}}},"OPTIONS":{"id":"OPTIONS","path":"InfrastructureStack/FantasyFootballApi/Default/overall/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.213.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizer":{"authorizerId":"*","authorizationType":"*"},"apiKeyRequired":false,"authorizationType":"*","methodResponses":[{"statusCode":"*","responseParameters":"*"}]}},{"addMethodResponse":[{"statusCode":"*","responseParameters":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"InfrastructureStack/FantasyFootballApi/Default/overall/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Admin-Key'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"FantasyFootballApioverallE64A1986"},"restApiId":{"Ref":"FantasyFootballApiEE0842B8"}}}}}},"GET":{"id":"GET","path":"InfrastructureStack/FantasyFootballApi/Default/overall/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.213.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":"*"}]},"children":{"ApiPermission.InfrastructureStackFantasyFootballApi194B198F.GET..overall":{"id":"ApiPermission.InfrastructureStackFantasyFootballApi194B198F.GET..overall","path":"InfrastructureStack/FantasyFootballApi/Default/overall/GET/ApiPermission.InfrastructureStackFantasyFootballApi194B198F.GET..overall","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiFunctionCE271BD4","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"FantasyFootballApiEE0842B8"},"/",{"Ref":"FantasyFootballApiDeploymentStageprod3EC6B14D"},"/GET/overall"]]}}}},"ApiPermission.Test.InfrastructureStackFantasyFootballApi194B198F.GET..overall":{"id":"ApiPermission.Test.InfrastructureStackFantasyFootballApi194B198F.GET..overall","path":"InfrastructureStack/FantasyFootballApi/Default/overall/GET/ApiPermission.Test.InfrastructureStackFantasyFootballApi194B198F.GET..overall","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiFunctionCE271BD4","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"FantasyFootballApiEE0842B8"},"/test-invoke-stage/GET/overall"]]}}}},"Resource":{"id":"Resource","path":"InfrastructureStack/FantasyFootballApi/Default/overall/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:",{"Ref":"AWS::Region"},":lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ApiFunctionCE271BD4","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"FantasyFootballApioverallE64A1986"},"restApiId":{"Ref":"FantasyFootballApiEE0842B8"}}}}}}}},"nfl-state":{"id":"nfl-state","path":"InfrastructureStack/FantasyFootballApi/Default/nfl-state","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.213.0","metadata":[{"parent":"*","pathPart":"*"}]},"children":{"Resource":{"id":"Resource","path":"InfrastructureStack/FantasyFootballApi/Default/nfl-state/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["FantasyFootballApiEE0842B8","RootResourceId"]},"pathPart":"nfl-state","restApiId":{"Ref":"FantasyFootballApiEE0842B8"}}}},"OPTIONS":{"id":"OPTIONS","path":"InfrastructureStack/FantasyFootballApi/Default/nfl-state/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.213.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizer":{"authorizerId":"*","authorizationType":"*"},"apiKeyRequired":false,"authorizationType":"*","methodResponses":[{"statusCode":"*","responseParameters":"*"}]}},{"addMethodResponse":[{"statusCode":"*","responseParameters":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"InfrastructureStack/FantasyFootballApi/Default/nfl-state/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Admin-Key'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"FantasyFootballApinflstateB302F4DF"},"restApiId":{"Ref":"FantasyFootballApiEE0842B8"}}}}}},"GET":{"id":"GET","path":"InfrastructureStack/FantasyFootballApi/Default/nfl-state/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.213.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":"*"}]},"children":{"ApiPermission.InfrastructureStackFantasyFootballApi194B198F.GET..nfl-state":{"id":"ApiPermission.InfrastructureStackFantasyFootballApi194B198F.GET..nfl-state","path":"InfrastructureStack/FantasyFootballApi/Default/nfl-state/GET/ApiPermission.InfrastructureStackFantasyFootballApi194B198F.GET..nfl-state","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiFunctionCE271BD4","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"FantasyFootballApiEE0842B8"},"/",{"Ref":"FantasyFootballApiDeploymentStageprod3EC6B14D"},"/GET/nfl-state"]]}}}},"ApiPermission.Test.InfrastructureStackFantasyFootballApi194B198F.GET..nfl-state":{"id":"ApiPermission.Test.InfrastructureStackFantasyFootballApi194B198F.GET..nfl-state","path":"InfrastructureStack/FantasyFootballApi/Default/nfl-state/GET/ApiPermission.Test.InfrastructureStackFantasyFootballApi194B198F.GET..nfl-state","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiFunctionCE271BD4","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"FantasyFootballApiEE0842B8"},"/test-invoke-stage/GET/nfl-state"]]}}}},"Resource":{"id":"Resource","path":"InfrastructureStack/FantasyFootballApi/Default/nfl-state/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:",{"Ref":"AWS::Region"},":lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ApiFunctionCE271BD4","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"FantasyFootballApinflstateB302F4DF"},"restApiId":{"Ref":"FantasyFootballApiEE0842B8"}}}}}}}},"polling":{"id":"polling","path":"InfrastructureStack/FantasyFootballApi/Default/polling","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.213.0","metadata":[{"parent":"*","pathPart":"*"}]},"children":{"Resource":{"id":"Resource","path":"InfrastructureStack/FantasyFootballApi/Default/polling/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["FantasyFootballApiEE0842B8","RootResourceId"]},"pathPart":"polling","restApiId":{"Ref":"FantasyFootballApiEE0842B8"}}}},"OPTIONS":{"id":"OPTIONS","path":"InfrastructureStack/FantasyFootballApi/Default/polling/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.213.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizer":{"authorizerId":"*","authorizationType":"*"},"apiKeyRequired":false,"authorizationType":"*","methodResponses":[{"statusCode":"*","responseParameters":"*"}]}},{"addMethodResponse":[{"statusCode":"*","responseParameters":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"InfrastructureStack/FantasyFootballApi/Default/polling/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Admin-Key'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"FantasyFootballApipolling617DAA2D"},"restApiId":{"Ref":"FantasyFootballApiEE0842B8"}}}}}},"status":{"id":"status","path":"InfrastructureStack/FantasyFootballApi/Default/polling/status","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.213.0","metadata":[{"parent":"*","pathPart":"*"}]},"children":{"Resource":{"id":"Resource","path":"InfrastructureStack/FantasyFootballApi/Default/polling/status/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"FantasyFootballApipolling617DAA2D"},"pathPart":"status","restApiId":{"Ref":"FantasyFootballApiEE0842B8"}}}},"OPTIONS":{"id":"OPTIONS","path":"InfrastructureStack/FantasyFootballApi/Default/polling/status/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.213.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizer":{"authorizerId":"*","authorizationType":"*"},"apiKeyRequired":false,"authorizationType":"*","methodResponses":[{"statusCode":"*","responseParameters":"*"}]}},{"addMethodResponse":[{"statusCode":"*","responseParameters":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"InfrastructureStack/FantasyFootballApi/Default/polling/status/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Admin-Key'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"FantasyFootballApipollingstatusC4731135"},"restApiId":{"Ref":"FantasyFootballApiEE0842B8"}}}}}},"GET":{"id":"GET","path":"InfrastructureStack/FantasyFootballApi/Default/polling/status/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.213.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":"*"}]},"children":{"ApiPermission.InfrastructureStackFantasyFootballApi194B198F.GET..polling.status":{"id":"ApiPermission.InfrastructureStackFantasyFootballApi194B198F.GET..polling.status","path":"InfrastructureStack/FantasyFootballApi/Default/polling/status/GET/ApiPermission.InfrastructureStackFantasyFootballApi194B198F.GET..polling.status","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiFunctionCE271BD4","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"FantasyFootballApiEE0842B8"},"/",{"Ref":"FantasyFootballApiDeploymentStageprod3EC6B14D"},"/GET/polling/status"]]}}}},"ApiPermission.Test.InfrastructureStackFantasyFootballApi194B198F.GET..polling.status":{"id":"ApiPermission.Test.InfrastructureStackFantasyFootballApi194B198F.GET..polling.status","path":"InfrastructureStack/FantasyFootballApi/Default/polling/status/GET/ApiPermission.Test.InfrastructureStackFantasyFootballApi194B198F.GET..polling.status","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiFunctionCE271BD4","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"FantasyFootballApiEE0842B8"},"/test-invoke-stage/GET/polling/status"]]}}}},"Resource":{"id":"Resource","path":"InfrastructureStack/FantasyFootballApi/Default/polling/status/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:",{"Ref":"AWS::Region"},":lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ApiFunctionCE271BD4","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"FantasyFootballApipollingstatusC4731135"},"restApiId":{"Ref":"FantasyFootballApiEE0842B8"}}}}}}}},"toggle":{"id":"toggle","path":"InfrastructureStack/FantasyFootballApi/Default/polling/toggle","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.213.0","metadata":[{"parent":"*","pathPart":"*"}]},"children":{"Resource":{"id":"Resource","path":"InfrastructureStack/FantasyFootballApi/Default/polling/toggle/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"FantasyFootballApipolling617DAA2D"},"pathPart":"toggle","restApiId":{"Ref":"FantasyFootballApiEE0842B8"}}}},"OPTIONS":{"id":"OPTIONS","path":"InfrastructureStack/FantasyFootballApi/Default/polling/toggle/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.213.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizer":{"authorizerId":"*","authorizationType":"*"},"apiKeyRequired":false,"authorizationType":"*","methodResponses":[{"statusCode":"*","responseParameters":"*"}]}},{"addMethodResponse":[{"statusCode":"*","responseParameters":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"InfrastructureStack/FantasyFootballApi/Default/polling/toggle/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Admin-Key'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"FantasyFootballApipollingtoggleC254FF33"},"restApiId":{"Ref":"FantasyFootballApiEE0842B8"}}}}}},"POST":{"id":"POST","path":"InfrastructureStack/FantasyFootballApi/Default/polling/toggle/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.213.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":"*"}]},"children":{"ApiPermission.InfrastructureStackFantasyFootballApi194B198F.POST..polling.toggle":{"id":"ApiPermission.InfrastructureStackFantasyFootballApi194B198F.POST..polling.toggle","path":"InfrastructureStack/FantasyFootballApi/Default/polling/toggle/POST/ApiPermission.InfrastructureStackFantasyFootballApi194B198F.POST..polling.toggle","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiFunctionCE271BD4","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"FantasyFootballApiEE0842B8"},"/",{"Ref":"FantasyFootballApiDeploymentStageprod3EC6B14D"},"/POST/polling/toggle"]]}}}},"ApiPermission.Test.InfrastructureStackFantasyFootballApi194B198F.POST..polling.toggle":{"id":"ApiPermission.Test.InfrastructureStackFantasyFootballApi194B198F.POST..polling.toggle","path":"InfrastructureStack/FantasyFootballApi/Default/polling/toggle/POST/ApiPermission.Test.InfrastructureStackFantasyFootballApi194B198F.POST..polling.toggle","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiFunctionCE271BD4","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"FantasyFootballApiEE0842B8"},"/test-invoke-stage/POST/polling/toggle"]]}}}},"Resource":{"id":"Resource","path":"InfrastructureStack/FantasyFootballApi/Default/polling/toggle/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:",{"Ref":"AWS::Region"},":lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ApiFunctionCE271BD4","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"FantasyFootballApipollingtoggleC254FF33"},"restApiId":{"Ref":"FantasyFootballApiEE0842B8"}}}}}}}}}},"calculate-playoffs":{"id":"calculate-playoffs","path":"InfrastructureStack/FantasyFootballApi/Default/calculate-playoffs","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.213.0","metadata":[{"parent":"*","pathPart":"*"}]},"children":{"Resource":{"id":"Resource","path":"InfrastructureStack/FantasyFootballApi/Default/calculate-playoffs/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["FantasyFootballApiEE0842B8","RootResourceId"]},"pathPart":"calculate-playoffs","restApiId":{"Ref":"FantasyFootballApiEE0842B8"}}}},"OPTIONS":{"id":"OPTIONS","path":"InfrastructureStack/FantasyFootballApi/Default/calculate-playoffs/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.213.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizer":{"authorizerId":"*","authorizationType":"*"},"apiKeyRequired":false,"authorizationType":"*","methodResponses":[{"statusCode":"*","responseParameters":"*"}]}},{"addMethodResponse":[{"statusCode":"*","responseParameters":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"InfrastructureStack/FantasyFootballApi/Default/calculate-playoffs/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Admin-Key'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"FantasyFootballApicalculateplayoffs4758E6E2"},"restApiId":{"Ref":"FantasyFootballApiEE0842B8"}}}}}},"POST":{"id":"POST","path":"InfrastructureStack/FantasyFootballApi/Default/calculate-playoffs/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.213.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":"*"}]},"children":{"ApiPermission.InfrastructureStackFantasyFootballApi194B198F.POST..calculate-playoffs":{"id":"ApiPermission.InfrastructureStackFantasyFootballApi194B198F.POST..calculate-playoffs","path":"InfrastructureStack/FantasyFootballApi/Default/calculate-playoffs/POST/ApiPermission.InfrastructureStackFantasyFootballApi194B198F.POST..calculate-playoffs","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiFunctionCE271BD4","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"FantasyFootballApiEE0842B8"},"/",{"Ref":"FantasyFootballApiDeploymentStageprod3EC6B14D"},"/POST/calculate-playoffs"]]}}}},"ApiPermission.Test.InfrastructureStackFantasyFootballApi194B198F.POST..calculate-playoffs":{"id":"ApiPermission.Test.InfrastructureStackFantasyFootballApi194B198F.POST..calculate-playoffs","path":"InfrastructureStack/FantasyFootballApi/Default/calculate-playoffs/POST/ApiPermission.Test.InfrastructureStackFantasyFootballApi194B198F.POST..calculate-playoffs","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiFunctionCE271BD4","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"FantasyFootballApiEE0842B8"},"/test-invoke-stage/POST/calculate-playoffs"]]}}}},"Resource":{"id":"Resource","path":"InfrastructureStack/FantasyFootballApi/Default/calculate-playoffs/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:",{"Ref":"AWS::Region"},":lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ApiFunctionCE271BD4","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"FantasyFootballApicalculateplayoffs4758E6E2"},"restApiId":{"Ref":"FantasyFootballApiEE0842B8"}}}}}}}},"sync-historical":{"id":"sync-historical","path":"InfrastructureStack/FantasyFootballApi/Default/sync-historical","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.213.0","metadata":[{"parent":"*","pathPart":"*"}]},"children":{"Resource":{"id":"Resource","path":"InfrastructureStack/FantasyFootballApi/Default/sync-historical/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["FantasyFootballApiEE0842B8","RootResourceId"]},"pathPart":"sync-historical","restApiId":{"Ref":"FantasyFootballApiEE0842B8"}}}},"OPTIONS":{"id":"OPTIONS","path":"InfrastructureStack/FantasyFootballApi/Default/sync-historical/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.213.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizer":{"authorizerId":"*","authorizationType":"*"},"apiKeyRequired":false,"authorizationType":"*","methodResponses":[{"statusCode":"*","responseParameters":"*"}]}},{"addMethodResponse":[{"statusCode":"*","responseParameters":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"InfrastructureStack/FantasyFootballApi/Default/sync-historical/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Admin-Key'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"FantasyFootballApisynchistoricalFE7B843E"},"restApiId":{"Ref":"FantasyFootballApiEE0842B8"}}}}}},"POST":{"id":"POST","path":"InfrastructureStack/FantasyFootballApi/Default/sync-historical/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.213.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":"*"}]},"children":{"ApiPermission.InfrastructureStackFantasyFootballApi194B198F.POST..sync-historical":{"id":"ApiPermission.InfrastructureStackFantasyFootballApi194B198F.POST..sync-historical","path":"InfrastructureStack/FantasyFootballApi/Default/sync-historical/POST/ApiPermission.InfrastructureStackFantasyFootballApi194B198F.POST..sync-historical","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiFunctionCE271BD4","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"FantasyFootballApiEE0842B8"},"/",{"Ref":"FantasyFootballApiDeploymentStageprod3EC6B14D"},"/POST/sync-historical"]]}}}},"ApiPermission.Test.InfrastructureStackFantasyFootballApi194B198F.POST..sync-historical":{"id":"ApiPermission.Test.InfrastructureStackFantasyFootballApi194B198F.POST..sync-historical","path":"InfrastructureStack/FantasyFootballApi/Default/sync-historical/POST/ApiPermission.Test.InfrastructureStackFantasyFootballApi194B198F.POST..sync-historical","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiFunctionCE271BD4","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"FantasyFootballApiEE0842B8"},"/test-invoke-stage/POST/sync-historical"]]}}}},"Resource":{"id":"Resource","path":"InfrastructureStack/FantasyFootballApi/Default/sync-historical/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:",{"Ref":"AWS::Region"},":lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ApiFunctionCE271BD4","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"FantasyFootballApisynchistoricalFE7B843E"},"restApiId":{"Ref":"FantasyFootballApiEE0842B8"}}}}}}}},"players":{"id":"players","path":"InfrastructureStack/FantasyFootballApi/Default/players","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.213.0","metadata":[{"parent":"*","pathPart":"*"}]},"children":{"Resource":{"id":"Resource","path":"InfrastructureStack/FantasyFootballApi/Default/players/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["FantasyFootballApiEE0842B8","RootResourceId"]},"pathPart":"players","restApiId":{"Ref":"FantasyFootballApiEE0842B8"}}}},"OPTIONS":{"id":"OPTIONS","path":"InfrastructureStack/FantasyFootballApi/Default/players/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.213.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizer":{"authorizerId":"*","authorizationType":"*"},"apiKeyRequired":false,"authorizationType":"*","methodResponses":[{"statusCode":"*","responseParameters":"*"}]}},{"addMethodResponse":[{"statusCode":"*","responseParameters":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"InfrastructureStack/FantasyFootballApi/Default/players/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Admin-Key'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"FantasyFootballApiplayers03131139"},"restApiId":{"Ref":"FantasyFootballApiEE0842B8"}}}}}},"GET":{"id":"GET","path":"InfrastructureStack/FantasyFootballApi/Default/players/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.213.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":"*"}]},"children":{"ApiPermission.InfrastructureStackFantasyFootballApi194B198F.GET..players":{"id":"ApiPermission.InfrastructureStackFantasyFootballApi194B198F.GET..players","path":"InfrastructureStack/FantasyFootballApi/Default/players/GET/ApiPermission.InfrastructureStackFantasyFootballApi194B198F.GET..players","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiFunctionCE271BD4","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"FantasyFootballApiEE0842B8"},"/",{"Ref":"FantasyFootballApiDeploymentStageprod3EC6B14D"},"/GET/players"]]}}}},"ApiPermission.Test.InfrastructureStackFantasyFootballApi194B198F.GET..players":{"id":"ApiPermission.Test.InfrastructureStackFantasyFootballApi194B198F.GET..players","path":"InfrastructureStack/FantasyFootballApi/Default/players/GET/ApiPermission.Test.InfrastructureStackFantasyFootballApi194B198F.GET..players","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiFunctionCE271BD4","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"FantasyFootballApiEE0842B8"},"/test-invoke-stage/GET/players"]]}}}},"Resource":{"id":"Resource","path":"InfrastructureStack/FantasyFootballApi/Default/players/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:",{"Ref":"AWS::Region"},":lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ApiFunctionCE271BD4","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"FantasyFootballApiplayers03131139"},"restApiId":{"Ref":"FantasyFootballApiEE0842B8"}}}}}}}},"admin":{"id":"admin","path":"InfrastructureStack/FantasyFootballApi/Default/admin","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.213.0","metadata":[{"parent":"*","pathPart":"*"}]},"children":{"Resource":{"id":"Resource","path":"InfrastructureStack/FantasyFootballApi/Default/admin/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["FantasyFootballApiEE0842B8","RootResourceId"]},"pathPart":"admin","restApiId":{"Ref":"FantasyFootballApiEE0842B8"}}}},"OPTIONS":{"id":"OPTIONS","path":"InfrastructureStack/FantasyFootballApi/Default/admin/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.213.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizer":{"authorizerId":"*","authorizationType":"*"},"apiKeyRequired":false,"authorizationType":"*","methodResponses":[{"statusCode":"*","responseParameters":"*"}]}},{"addMethodResponse":[{"statusCode":"*","responseParameters":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"InfrastructureStack/FantasyFootballApi/Default/admin/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Admin-Key'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"FantasyFootballApiadmin17EA83C4"},"restApiId":{"Ref":"FantasyFootballApiEE0842B8"}}}}}},"validate":{"id":"validate","path":"InfrastructureStack/FantasyFootballApi/Default/admin/validate","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.213.0","metadata":[{"parent":"*","pathPart":"*"}]},"children":{"Resource":{"id":"Resource","path":"InfrastructureStack/FantasyFootballApi/Default/admin/validate/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"FantasyFootballApiadmin17EA83C4"},"pathPart":"validate","restApiId":{"Ref":"FantasyFootballApiEE0842B8"}}}},"OPTIONS":{"id":"OPTIONS","path":"InfrastructureStack/FantasyFootballApi/Default/admin/validate/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.213.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizer":{"authorizerId":"*","authorizationType":"*"},"apiKeyRequired":false,"authorizationType":"*","methodResponses":[{"statusCode":"*","responseParameters":"*"}]}},{"addMethodResponse":[{"statusCode":"*","responseParameters":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"InfrastructureStack/FantasyFootballApi/Default/admin/validate/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Admin-Key'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"FantasyFootballApiadminvalidateEEE8D7C1"},"restApiId":{"Ref":"FantasyFootballApiEE0842B8"}}}}}},"POST":{"id":"POST","path":"InfrastructureStack/FantasyFootballApi/Default/admin/validate/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.213.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":"*"}]},"children":{"ApiPermission.InfrastructureStackFantasyFootballApi194B198F.POST..admin.validate":{"id":"ApiPermission.InfrastructureStackFantasyFootballApi194B198F.POST..admin.validate","path":"InfrastructureStack/FantasyFootballApi/Default/admin/validate/POST/ApiPermission.InfrastructureStackFantasyFootballApi194B198F.POST..admin.validate","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiFunctionCE271BD4","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"FantasyFootballApiEE0842B8"},"/",{"Ref":"FantasyFootballApiDeploymentStageprod3EC6B14D"},"/POST/admin/validate"]]}}}},"ApiPermission.Test.InfrastructureStackFantasyFootballApi194B198F.POST..admin.validate":{"id":"ApiPermission.Test.InfrastructureStackFantasyFootballApi194B198F.POST..admin.validate","path":"InfrastructureStack/FantasyFootballApi/Default/admin/validate/POST/ApiPermission.Test.InfrastructureStackFantasyFootballApi194B198F.POST..admin.validate","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiFunctionCE271BD4","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"FantasyFootballApiEE0842B8"},"/test-invoke-stage/POST/admin/validate"]]}}}},"Resource":{"id":"Resource","path":"InfrastructureStack/FantasyFootballApi/Default/admin/validate/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.213.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:",{"Ref":"AWS::Region"},":lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ApiFunctionCE271BD4","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"FantasyFootballApiadminvalidateEEE8D7C1"},"restApiId":{"Ref":"FantasyFootballApiEE0842B8"}}}}}}}}}}}}}},"ApiUrl":{"id":"ApiUrl","path":"InfrastructureStack/ApiUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.213.0"}},"PollingRepoUri":{"id":"PollingRepoUri","path":"InfrastructureStack/PollingRepoUri","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.213.0"}},"ClusterArn":{"id":"ClusterArn","path":"InfrastructureStack/ClusterArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.213.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"InfrastructureStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"InfrastructureStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.213.0"}},"Condition":{"id":"Condition","path":"InfrastructureStack/CDKMetadata/Condition","constructInfo":{"fqn":"aws-cdk-lib.CfnCondition","version":"2.213.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"InfrastructureStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.213.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"InfrastructureStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.213.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}